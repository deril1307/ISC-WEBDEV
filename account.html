<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Account</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  </head>
  <body>
    <nav class="flex items-center justify-between p-3 bg-white shadow-md">
      <!-- Navigation bar here -->
    </nav>
    <div class="bg-gray-100 flex h-screen items-center justify-center px-4 sm:px-6 lg:px-8">
      <div class="w-full max-w-md space-y-8">
        <div class="bg-white shadow-md rounded-md p-6">
          <h2 class="text-center text-3xl font-bold tracking-tight text-gray-900">Your Account</h2>
          <p class="mt-3 text-center text-gray-700">Welcome to your account page.</p>

          <!-- Display username -->
          <div class="text-center mt-4">
            <p class="text-lg font-semibold">Username: <span id="username">Loading...</span></p>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get("userId"); // Get user ID from query parameters

        if (userId) {
          fetch(`/api/user-info?userId=${userId}`) // Fetch username based on user ID
            .then((response) => response.json())
            .then((data) => {
              document.getElementById("username").textContent = data.username || "Unknown user";
            })
            .catch((error) => {
              console.error("Error fetching user info:", error);
              document.getElementById("username").textContent = "Error loading username";
            });
        } else {
          document.getElementById("username").textContent = "No user ID provided";
        }
      });
    </script>
  </body>
</html>
